Terminator = CR LF;

#
# Individual commands
#

getCurrentControlChannel {
    out "Q300";
	in "%d";
}

getWatchdogStatus {
    out "Q904";
	in "%d%*s";
}

disableWatchdog {
	out "C904,0,0";
}

getControlMode {
    out "Q909";
	in "%d";
}

setControlMode {
	out "P909,%d";
	@init { getControlMode; }
}

setControlModeCom {
    out "P909,1";
}

setControlModeFp {
    out "P909,0";
}

getStatus {
    out "Q22";
    in "%d";
}

getActuatorStatus {
    out "Q23";
	in "%d";
}

getMovementType {
    out "Q1";
	in "%d";
}

#
# Blocks of commands
#

initRoutine {
    setControlModeCom;
    disableWatchdog;
    setControlModeFp;
}

panicStop {
    setControlModeCom;
    out "C23,0";
    setControlModeFp;
}

setMovementType {
    setControlModeCom;
	out "C1,%d";
    setControlModeFp;
}

stopAndStartMovement {
    setControlModeCom;
    out "C1,0";
    out "C1,1";
    setControlModeFp;
}


arbRW {
    setControlModeCom;
    out "%(\$1.VAL)s";  
    in "%60c";
    setControlModeFp;
}

setCurrentControlChannel {
    setControlModeCom;
    out "C300,%d";
    setControlModeFp;
}

setStepTime {
    setControlModeCom;
    out "C86,\$1,%f";
    setControlModeFp;
}

getStepTime {
    out "Q86,\$1";
    in "%f";
}

setChanWaveType {
    setControlModeCom;
    out "C2,\$1,%d";
    setControlModeFp;
}

getChanWaveType {
    out "Q2,\$1";
    in "%d";
}

setRampAmpSP {
    setControlModeCom;
    out "C4,\$1,%f";
    setControlModeFp;
}

getRampAmpSP {
    out "Q4,\$1";
    in "%f";
}

getCurrentFeedback {
    out "Q134,\$1,0";
    in "%f";
}

getChanScale {
    out "Q308,\$1";
    in "%f";
}

getStrainLength {
    out "Q340,\$1";
    in "%f";
}

setArea {
    setControlModeCom;
    out "C341,\$1,%f";
    setControlModeFp;
}

getArea {
    out "Q341,\$1";
    in "%f";
}

getType {
    out "Q307,\$1";
    in "%(\$2:TYPE:STANDARD)d,%d"
}

#
# Waveform commands
#

getWaveformStatus {
    out "Q200";
    in "%f";
}

setWaveformAbort {
    setControlModeCom;
    out "C200,0";
    setControlModeFp;
}

setWaveformStart {
    setControlModeCom;
    out "C200,1";
    setControlModeFp;
}

setWaveformStop {
    setControlModeCom;
    out "C200,4";
    setControlModeFp;
}

setWaveformAmplitude {
    setControlModeCom;
    out "C204,\$1,%f";
    setControlModeFp;
}

setWaveformFrequency {
    setControlModeCom;
    out "C202,\$1,%f";
    setControlModeFp;
}

setWaveformType {
    setControlModeCom;
    out "C201,\$1,%d";
    setControlModeFp;
}

setWaveformQuartOff {
    setControlModeCom;
    out "C212,0";
    setControlModeFp;
}

setWaveformQuart {
    setControlModeCom;
    out "C209,%d";
    setControlModeFp;
}

getWaveformQuart {
    out "Q210";
}

setWaveformHold {
    setControlModeCom;
    out "C213,3";
    setControlModeFp;
}

setWaveformLogMaintain {
    setControlModeCom;
    out "C214,0";
    setControlModeFp;
}

setWaveformQuartArm {
    setControlModeCom;
    out "C212,2";
    setControlModeFp;
}